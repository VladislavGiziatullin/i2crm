### Запуск

#### Что необходимо:

Разрабатывал локально через symfony-cli поэтому, чтобы поднять нужен [https://symfony.com/download](https://symfony.com/download) и докер (могу всё в докер завернуть собственно просто не стал на это время тратить)

#### Команда для запуска
`./startup.sh`


### Примечание

По коду оставлены пояснительные комментарии
- Например, то что вместо репозиториев в сервисы нужно пробрасывать интерфейсы, я знаю что репозиторий это реализация, а сервис бизнес логика, и таким образом мы нарушаем soliD и наша бизнес логика становится зависимой от реализации, но интерфейсы для тестового задания кмк оверинжиниринг, поэтому пишу тут. 
- По очередям самый большой :) \App\Service\Github\UserRepoService::updateUserRepos
- Так же по .env тоже не стал заморачиваться, на локал, дев, прод итд, тоже оверинжинирг для тестового
- Почему симфони(который понятно дело через чур для такой простой задачи), а не yii2? Потому что yii2 хорошо знаю 4 года с ним работал, а сейчас изучаю симфони для общего развития, плюс тут очень много готовых инструментов которые оптимизировали код и работу над ним. Главное что бизнес логика изолирована, не считая конечно репозиториев, так что надеюсь это не будет проблемой, в задании по крайней мере указание на yii2 не было


### Про очереди и асинхронную выгрузку

Очередь реализована через symfony/messenger. Настроена на postgresql, не стал тянуть специализированные очереди, итого всё сводиться к конфигу в этом мессенджере, плюс опять же выбрать что-то конкретное для такого задания невозможно ибо очень простой кейс, так или иначе, брокер меняется одной строчкой в кофиге в случае чего.

#### Продакшен конфиг
В проекте есть 2 конфига для systemd которые нужно скопировать в ~/.config/systemd/user (можно простой скриптик в CI пайплайне намутить cp и systemctl --user daemon-reload ну и рестартим всё это)
- update-user-repo-producer.service - продюсер, создает в очередь сообщения он запускается таймером или можно вручную запустить командой systemctl --user start update-user-repo-producer.service
- update-user-repo-producer.timer - Таймер который каждые 10 минут запускает сервис выше systemctl enable --user --now update-user-repo-producer.timer
- update-user-repo-worker@.service - конфиг для воркеров запуск через systemctl enable --user --now update-user-repo-worker@{1..10}.service (сделает 10 воркеров)

**Так же знаю, что делают на supervisor, его не тыкал, +оверинжиниринг для тестового, а вот linux хорошо знаю поэтому сделал в systemd**
